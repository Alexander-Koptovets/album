{"ast":null,"code":"import{useDispatch,useSelector}from\"react-redux\";import{toast}from\"react-toastify\";import{albumsByUser,photosByAlbum,selectedPhoto}from\"../../api/requests\";import{setAlbumsByUser,setPhotos,setPhoto}from\"../../redux/slice/users\";export const useAlbums=()=>{const dispatch=useDispatch();const albums=useSelector(state=>state.data.albumsByUser);const photos=useSelector(state=>state.data.photos);const photo=useSelector(state=>state.data.photo);const getAlbumsByUser=userId=>{albumsByUser(userId).then(_ref=>{let{data}=_ref;return dispatch(setAlbumsByUser(data));}).catch(error=>toast.error(error));};const getPhotos=albumId=>{photosByAlbum(albumId).then(_ref2=>{let{data}=_ref2;return dispatch(setPhotos(data));}).catch(error=>toast.error(error));};const getPhoto=photoId=>{selectedPhoto(photoId).then(_ref3=>{let{data}=_ref3;return dispatch(setPhoto(data));}).catch(error=>toast.error(error));};const clearPhotos=()=>dispatch(setPhotos([]));const clearPhoto=()=>dispatch(setPhoto(null));return{albums,photos,photo,getAlbumsByUser,getPhotos,getPhoto,clearPhotos,clearPhoto};};","map":{"version":3,"names":["useDispatch","useSelector","toast","albumsByUser","photosByAlbum","selectedPhoto","setAlbumsByUser","setPhotos","setPhoto","useAlbums","dispatch","albums","state","data","photos","photo","getAlbumsByUser","userId","then","_ref","catch","error","getPhotos","albumId","_ref2","getPhoto","photoId","_ref3","clearPhotos","clearPhoto"],"sources":["/Users/macbook/Documents/Own projects/albums/src/hooks/api/useAlbums.tsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\n\nimport { albumsByUser, photosByAlbum, selectedPhoto } from \"../../api/requests\";\nimport { setAlbumsByUser, setPhotos, setPhoto } from \"../../redux/slice/users\";\n\nimport { IAlbum, IPhoto } from \"../../types/response\";\nimport { RootState } from \"../../redux/store\";\n\ninterface IUseAlbums {\n    albums: IAlbum[];\n    photos: IPhoto[];\n    photo: IPhoto | null;\n    getAlbumsByUser: (userId: number) => void;\n    getPhotos: (albumId: number) => void;\n    getPhoto: (photoId: number) => void;\n    clearPhotos: () => void;\n    clearPhoto: () => void;\n}\n\nexport const useAlbums = (): IUseAlbums => {\n    const dispatch = useDispatch();\n\n    const albums = useSelector((state: RootState) => state.data.albumsByUser);\n\n    const photos = useSelector((state: RootState) => state.data.photos);\n\n    const photo = useSelector((state: RootState) => state.data.photo);\n\n    const getAlbumsByUser = (userId: number) => {\n        albumsByUser(userId)\n            .then(({ data }) => dispatch(setAlbumsByUser(data)))\n            .catch((error) => toast.error(error));\n    };\n\n    const getPhotos = (albumId: number) => {\n        photosByAlbum(albumId)\n            .then(({ data }) => dispatch(setPhotos(data)))\n            .catch((error) => toast.error(error));\n    };\n\n    const getPhoto = (photoId: number) => {\n        selectedPhoto(photoId)\n            .then(({ data }) => dispatch(setPhoto(data)))\n            .catch((error) => toast.error(error));\n    };\n\n    const clearPhotos = () => dispatch(setPhotos([]));\n\n    const clearPhoto = () => dispatch(setPhoto(null));\n\n    return {\n        albums,\n        photos,\n        photo,\n        getAlbumsByUser,\n        getPhotos,\n        getPhoto,\n        clearPhotos,\n        clearPhoto,\n    };\n};"],"mappings":"AAAA,OAASA,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,KAAK,KAAQ,gBAAgB,CAEtC,OAASC,YAAY,CAAEC,aAAa,CAAEC,aAAa,KAAQ,oBAAoB,CAC/E,OAASC,eAAe,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,yBAAyB,CAgB9E,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAkB,CACvC,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAW,MAAM,CAAGV,WAAW,CAAEW,KAAgB,EAAKA,KAAK,CAACC,IAAI,CAACV,YAAY,CAAC,CAEzE,KAAM,CAAAW,MAAM,CAAGb,WAAW,CAAEW,KAAgB,EAAKA,KAAK,CAACC,IAAI,CAACC,MAAM,CAAC,CAEnE,KAAM,CAAAC,KAAK,CAAGd,WAAW,CAAEW,KAAgB,EAAKA,KAAK,CAACC,IAAI,CAACE,KAAK,CAAC,CAEjE,KAAM,CAAAC,eAAe,CAAIC,MAAc,EAAK,CACxCd,YAAY,CAACc,MAAM,CAAC,CACfC,IAAI,CAACC,IAAA,MAAC,CAAEN,IAAK,CAAC,CAAAM,IAAA,OAAK,CAAAT,QAAQ,CAACJ,eAAe,CAACO,IAAI,CAAC,CAAC,GAAC,CACnDO,KAAK,CAAEC,KAAK,EAAKnB,KAAK,CAACmB,KAAK,CAACA,KAAK,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAC,SAAS,CAAIC,OAAe,EAAK,CACnCnB,aAAa,CAACmB,OAAO,CAAC,CACjBL,IAAI,CAACM,KAAA,MAAC,CAAEX,IAAK,CAAC,CAAAW,KAAA,OAAK,CAAAd,QAAQ,CAACH,SAAS,CAACM,IAAI,CAAC,CAAC,GAAC,CAC7CO,KAAK,CAAEC,KAAK,EAAKnB,KAAK,CAACmB,KAAK,CAACA,KAAK,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAI,QAAQ,CAAIC,OAAe,EAAK,CAClCrB,aAAa,CAACqB,OAAO,CAAC,CACjBR,IAAI,CAACS,KAAA,MAAC,CAAEd,IAAK,CAAC,CAAAc,KAAA,OAAK,CAAAjB,QAAQ,CAACF,QAAQ,CAACK,IAAI,CAAC,CAAC,GAAC,CAC5CO,KAAK,CAAEC,KAAK,EAAKnB,KAAK,CAACmB,KAAK,CAACA,KAAK,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAO,WAAW,CAAGA,CAAA,GAAMlB,QAAQ,CAACH,SAAS,CAAC,EAAE,CAAC,CAAC,CAEjD,KAAM,CAAAsB,UAAU,CAAGA,CAAA,GAAMnB,QAAQ,CAACF,QAAQ,CAAC,IAAI,CAAC,CAAC,CAEjD,MAAO,CACHG,MAAM,CACNG,MAAM,CACNC,KAAK,CACLC,eAAe,CACfM,SAAS,CACTG,QAAQ,CACRG,WAAW,CACXC,UACJ,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}