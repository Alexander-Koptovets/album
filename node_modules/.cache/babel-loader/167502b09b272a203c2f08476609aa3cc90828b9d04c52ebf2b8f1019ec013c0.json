{"ast":null,"code":"import React,{useState,useMemo}from'react';import{Link}from\"react-router-dom\";import{ESort}from\"../../enums\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Button}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";;export const UserTable=_ref=>{let{data}=_ref;const[sortDirection,setSortDirection]=useState(ESort.ASC);const handleSort=()=>{const newSortDirection=sortDirection===ESort.ASC?ESort.DESC:ESort.ASC;setSortDirection(newSortDirection);};const sortedData=useMemo(()=>{return[...data].sort((a,b)=>{const fieldA=a.username.toLowerCase();const fieldB=b.username.toLowerCase();if(sortDirection===ESort.ASC){return fieldA.localeCompare(fieldB);}else{return fieldB.localeCompare(fieldA);}});},[data,sortDirection]);return/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsxs(TableCell,{children:[\"Username\",/*#__PURE__*/_jsx(Button,{onClick:handleSort,children:sortDirection==='asc'?'▼':'▲'})]}),/*#__PURE__*/_jsx(TableCell,{children:\"Posts\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Albums\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:sortedData.map(_ref2=>{let{id,name,username}=_ref2;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:id}),/*#__PURE__*/_jsx(TableCell,{children:name}),/*#__PURE__*/_jsx(TableCell,{children:username}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(id),children:[username,\" posts\"]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Link,{to:\"/albums/\".concat(id),children:[username,\" albums\"]})})]},id);})})]})});};","map":{"version":3,"names":["React","useState","useMemo","Link","ESort","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","jsx","_jsx","jsxs","_jsxs","UserTable","_ref","data","sortDirection","setSortDirection","ASC","handleSort","newSortDirection","DESC","sortedData","sort","a","b","fieldA","username","toLowerCase","fieldB","localeCompare","component","children","onClick","map","_ref2","id","name","to","concat"],"sources":["/Users/macbook/Documents/Own projects/albums/src/components/UserTable/index.tsx"],"sourcesContent":["import React, { FC, useState, useMemo } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport { IUser } from \"../../types/response\";\nimport { ESort } from \"../../enums\";\n\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    Paper,\n    Button,\n} from '@mui/material';\n\ninterface IProps {\n  data: IUser[];\n};\n\nexport const UserTable: FC<IProps> = ({ data }) => {\n    const [sortDirection, setSortDirection] =\n        useState<ESort>(ESort.ASC);\n\n    const handleSort = (): void => {\n        const newSortDirection = sortDirection === ESort.ASC ? ESort.DESC : ESort.ASC;\n        setSortDirection(newSortDirection);\n    };\n\n    const sortedData = useMemo(() => {\n        return [...data].sort((a, b) => {\n            const fieldA = a.username.toLowerCase();\n            const fieldB = b.username.toLowerCase();\n\n            if (sortDirection === ESort.ASC) {\n                return fieldA.localeCompare(fieldB);\n            } else {\n                return fieldB.localeCompare(fieldA);\n            }\n        });\n    }, [data, sortDirection]);\n\n    return (\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>ID</TableCell>\n                        <TableCell>Name</TableCell>\n                        <TableCell>\n                            Username\n                            <Button onClick={handleSort}>\n                                {sortDirection === 'asc' ? '▼' : '▲'}\n                            </Button>\n                        </TableCell>\n                        <TableCell>Posts</TableCell>\n                        <TableCell>Albums</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {sortedData.map(({ id, name, username }) => (\n                        <TableRow key={id}>\n                            <TableCell>{id}</TableCell>\n                            <TableCell>{name}</TableCell>\n                            <TableCell>{username}</TableCell>\n                            <TableCell>\n                                <Link to={`/posts/${id}`}>{username} posts</Link>\n                            </TableCell>\n                            <TableCell>\n                                <Link to={`/albums/${id}`}>{username} albums</Link>\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}